{% extends 'base.html.twig' %}

{% form_theme form 'bootstrap_5_layout.html.twig' %}

{% block title %}List des taches{% endblock %}

{% block body %}
<div class="container mt-4">
{{ form_start(form) }}

<div class="form-row align-items-end">
  <div class="col">
    {{ form_row(form.titre) }}
  </div>

  <div class="col">
    <div class="form-group">
      <button type="submit" class="btn btn-success">
        Chercher
      </button>
    </div>
  </div>
</div>

{{ form_end(form) }}
<h1> Liste des taches </h1>
<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Titre</th>
      <th scope="col">Description</th>
      <th scope="col">Statut</th>
      <th scope="col">Date limite</th>
      <th scope="col">Details</th>
      <th scope="col">Modifier</th>
      <th scope="col">Supprimer</th>
    </tr>
  </thead>
  <tbody>
    {% for tache in taches %}
        <tr>
            <td> {{ tache.id }} </td>
            <td> {{ tache.titre }} </td>
            <td> {{ tache.description }} </td>
            <td> {{ tache.statut }} </td>
            <td> {{ tache.getDateLimite()|date('d/m/Y') }} </td>
            <td><a href="/taches/{{ tache.id }}" class="btn btn-secondary">Details</a></td>
            <td><a href="/taches/modifier/{{ tache.id }}" class="btn btn-primary">Modifier</a></td>
            <td><a href="/taches/supprimer/{{ tache.id }}" onclick="return confirm('Are you sure you want to delete this product ?');" class="btn btn-danger">Supprimer</a></td>
        </tr>
    {% endfor %}
  </tbody>
</table>
</div>
{% endblock %}
